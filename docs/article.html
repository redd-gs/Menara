<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Article â€” Menara</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
  <!-- Favicons -->
  <link rel="icon" href="assets/images/logo.png" type="image/png" sizes="any" />
  <link rel="apple-touch-icon" href="assets/images/logo.png" />
  <link rel="shortcut icon" href="assets/images/logo.png" type="image/png" />
  <meta name="theme-color" content="#0a0a0a" />
</head>
<body>
  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a class="brand" href="index.html" aria-label="Accueil Menara">
  <img class="brand-logo" src="assets/images/logo.png" alt="Logo Menara" />
        <span class="brand-text">Menara</span>
      </a>
      <nav class="main-nav" role="navigation" aria-label="Navigation principale">
        <ul>
          <li><a href="about.html">Ã€ propos</a></li>
          <li class="has-dropdown is-active">
            <a href="articles.html">Articles</a>
            <div class="dropdown" role="menu" aria-label="CatÃ©gories dâ€™articles">
              <a href="articles.html#detailles">Articles dÃ©taillÃ©s</a>
              <a href="articles.html#carrousels">Carrousels</a>
            </div>
          </li>
          <li><a href="news-events.html">Nouvelles et Ã‰vÃ©nements</a></li>
          <li><a href="contributions.html">Contributions externes</a></li>
          <li><a href="podcasts.html">Podcasts</a></li>
          <li><a href="follow.html">Nous Suivre</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
      <div class="header-actions">
        <a class="btn btn-ghost" href="follow.html#inscription">Sâ€™abonner</a>
        <a class="btn btn-primary" href="contact.html">Nous Ã©crire</a>
        <button class="nav-toggle" aria-label="Ouvrir le menu" aria-expanded="false">
          <span class="nav-bar"></span><span class="nav-bar"></span><span class="nav-bar"></span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero-page" id="article-hero">
      <div class="container hero-content">
        <h1 id="article-title">Titre de lâ€™article</h1>
        <p id="article-meta" class="hero-subtitle">Auteur â€” Date â€” CatÃ©gorie</p>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <figure id="article-cover" style="margin:0 0 24px 0; text-align:center"></figure>
        <div id="article-pdf"></div>
        <article id="article-body" class="content-block"></article>
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container footer-bottom">
      <div class="footer-bottom-inner">
        <p>Â© 2025 Menara. Tous droits rÃ©servÃ©s.</p>
        <ul class="legal-links">
          <li><a href="#">ConfidentialitÃ©</a></li>
          <li><a href="#">Cookies</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <script src="js/articles-data.js"></script>
  <script>
    // Basic router: load by slug param
    function getParam(name){ return new URLSearchParams(window.location.search).get(name); }

    function render(){
      const slug = getParam('slug');
      const list = window.MENARA_ARTICLES || [];
      const art = list.find(a => a.slug === slug) || list[0];
      if (!art) return;
      document.title = art.title + ' â€” Menara';
      document.getElementById('article-title').textContent = art.title;
      const meta = [art.author, art.date, (art.categoryLabel||art.category)].filter(Boolean).join(' â€” ');
      document.getElementById('article-meta').textContent = meta;

      const cover = document.getElementById('article-cover');
      if (art.cover){
        cover.innerHTML = `<img src="${art.cover}" alt="${art.title}" style="max-width:100%; border-radius:12px; box-shadow: var(--shadow-lg);"/>`;
      }

      // PDF card (download + view)
      const pdfMount = document.getElementById('article-pdf');
      if (art.pdf){
        const fileName = art.pdf.split('/').pop();
        pdfMount.innerHTML = `
          <div class="pdf-card">
            <div class="pdf-icon" aria-hidden="true">ðŸ“„</div>
            <div class="pdf-content">
              <h3>Version complÃ¨te (PDF)</h3>
              <p>TÃ©lÃ©chargez ou visualisez lâ€™article intÃ©gral.</p>
              <div class="pdf-actions">
                <a class="btn btn-primary" href="${art.pdf}" target="_blank" rel="noopener">Ouvrir le PDF</a>
                <a class="btn btn-ghost" href="${art.pdf}" download>TÃ©lÃ©charger (${fileName})</a>
              </div>
            </div>
          </div>
          <div class="pdf-embed">
            <iframe src="${art.pdf}" title="${art.title} â€” PDF" aria-label="Visionneuse PDF"></iframe>
          </div>`;
      }

      // Load body from partial file docs/articles/<slug>.html
      fetch(`articles/${art.slug}.html`).then(r=> r.ok ? r.text() : Promise.resolve('<p>Contenu Ã  venirâ€¦</p>')).then(html=>{
        document.getElementById('article-body').innerHTML = html;
      }).catch(()=>{
        document.getElementById('article-body').innerHTML = '<p>Contenu Ã  venirâ€¦</p>';
      });
    }

    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', render); else render();
  </script>
</body>
</html>